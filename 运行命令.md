# 环境设置
```bash
# liteprint的安装环境
conda create -n liteprint python=3.10.18
conda activate liteprint
# pytorch
pip install torch==2.1.2 torchvision==0.16.2 torchaudio==2.1.2 --index-url https://download.pytorch.org/whl/cu118
# other packages
pip install tqdm
pip install pytorch_metric_learning
pip install captum
pip install pandas
pip install timm
pip install natsort
pip install noise
pip install transformers==4.53.2

# CountMamba的安装环境
# Mamba-ssm
wget https://github.com/state-spaces/mamba/releases/download/v2.2.2/mamba_ssm-2.2.2+cu118torch2.1cxx11abiFALSE-cp310-cp310-linux_x86_64.whl
pip install mamba_ssm-2.2.2+cu118torch2.1cxx11abiFALSE-cp310-cp310-linux_x86_64.whl
# causal-conv1d
wget https://github.com/Dao-AILab/causal-conv1d/releases/download/v1.4.0/causal_conv1d-1.4.0+cu118torch2.1cxx11abiFALSE-cp310-cp310-linux_x86_64.whl
pip install causal_conv1d-1.4.0+cu118torch2.1cxx11abiFALSE-cp310-cp310-linux_x86_64.whl
```
# 进入工作目录
```bash
screen -S runner
conda activate myenv
cd /root/autodl-tmp/lixianjun/LitePrint/LitePrint_run
export PYTHONPATH=$PYTHONPATH:/root/autodl-tmp/lixianjun/LitePrint
```

# 单流运行 - CW

## Explore - same ✓
统一 30 Epoch，需要注意的是，**必须要丢弃额外时间**
```bash
for dataset in  CW trafficsilver_bwr_CW trafficsilver_rb_CW trafficsilver_bd_CW wtfpad_CW front_CW regulator_CW 
do
for method in ExploreModel
do
python  main.py --dataset ${dataset} --config config/${method}.ini --note baseline_same --drop_extra_time True --TAM_type ED11 --Model_name EM7 --num_workers 16 --optim False --train_epochs 30
python  test.py --dataset ${dataset} --config config/${method}.ini --note baseline_same --drop_extra_time True --TAM_type ED11 --Model_name EM7 --num_workers 16
done
done
```
## Explore - optim ✓
自适应早停，需要注意的是，**必须要丢弃额外时间**
```bash
for dataset in  CW trafficsilver_bwr_CW trafficsilver_rb_CW trafficsilver_bd_CW wtfpad_CW front_CW regulator_CW
do
for method in ExploreModel
do
python  main.py --dataset ${dataset} --config config/${method}.ini --note baseline_optim --drop_extra_time True --TAM_type ED11 --Model_name EM7 --num_workers 16 --optim True --train_epochs 100
python  test.py --dataset ${dataset} --config config/${method}.ini --note baseline_optim --drop_extra_time True --TAM_type ED11 --Model_name EM7 --num_workers 16
done
done
```
## Baseline - same ✓

统一 30 Epoch，需要注意的是，**不能丢弃额外时间**

``` bash
for dataset in  CW trafficsilver_bwr_CW trafficsilver_rb_CW trafficsilver_bd_CW wtfpad_CW front_CW regulator_CW
do
for method in AWF DF TikTok VarCNN TF RF ARES TMWF CountMamba
do
python  main.py --dataset ${dataset} --config config/${method}.ini --note baseline_same --drop_extra_time False --num_tabs 1 --TAM_type Mamba --Model_name None --num_workers 16 --optim False --train_epochs 30
python  test.py --dataset ${dataset} --config config/${method}.ini --note baseline_same --drop_extra_time False --num_tabs 1 --TAM_type Mamba --Model_name None --num_workers 16
done
done
```
# ML方法
```bash
screen -S runner
conda activate myenv
cd /root/autodl-tmp/lixianjun/LitePrint/ML-WF
export PYTHONPATH=$PYTHONPATH:/root/autodl-tmp/lixianjun/LitePrint
for dataset in  CW trafficsilver_bwr_CW trafficsilver_rb_CW trafficsilver_bd_CW wtfpad_CW front_CW regulator_CW
do
for method in CUMUL k-FP
do
python  ${method}.py --dataset ${dataset}
done
done

```


# 多流运行 - CW

## 测试使用

```bash
for dataset in  Closed_2tab
do
for method in ExploreModel
do
python  main.py --dataset ${dataset} --config config/${method}.ini --note baseline_same --drop_extra_time True --TAM_type ED11 --Model_name EM7 --num_workers 16 --optim False --train_epochs 10 --test_flag True
python  test.py --dataset ${dataset} --config config/${method}.ini --note baseline_same --drop_extra_time True --TAM_type ED11 --Model_name EM7 --num_workers 16
done
done

for dataset in  Closed_2tab
do
for method in ExploreModel
do
python  test.py --dataset ${dataset} --config config/${method}.ini --note baseline_same --drop_extra_time True --TAM_type ED11 --Model_name EM7 --num_workers 16
done
done
```



## Explore - same ✓

```bash
for dataset in Closed_2tab Closed_3tab Closed_4tab Closed_5tab wtfpad_Closed_2tab front_Closed_2tab regulator_Closed_2tab Open_2tab Open_3tab Open_4tab Open_5tab wtfpad_Open_2tab front_Open_2tab regulator_Open_2tab
do
for method in ExploreModel
do
python  main.py --dataset ${dataset} --config config/${method}.ini --note baseline_same --drop_extra_time True --TAM_type ED11 --Model_name EM7 --num_workers 16 --optim False --train_epochs 30
python  test.py --dataset ${dataset} --config config/${method}.ini --note baseline_same --drop_extra_time True --TAM_type ED11 --Model_name EM7 --num_workers 16
done
done
```

## Explore - optim ✓
```bash
for dataset in Closed_2tab Closed_3tab Closed_4tab Closed_5tab wtfpad_Closed_2tab front_Closed_2tab regulator_Closed_2tab Open_2tab Open_3tab Open_4tab Open_5tab wtfpad_Open_2tab front_Open_2tab regulator_Open_2tab
do
for method in ExploreModel
do
python  main.py --dataset ${dataset} --config config/${method}.ini --note baseline_optim --drop_extra_time True --TAM_type ED11 --Model_name EM7 --num_workers 16 --optim True --train_epochs 100
python  test.py --dataset ${dataset} --config config/${method}.ini --note baseline_optim --drop_extra_time True --TAM_type ED11 --Model_name EM7 --num_workers 16
done
done
```

## Baseline - same ✓

```bash
for dataset in Closed_2tab Closed_3tab Closed_4tab Closed_5tab wtfpad_Closed_2tab front_Closed_2tab regulator_Closed_2tab Open_2tab Open_3tab Open_4tab Open_5tab wtfpad_Open_2tab front_Open_2tab regulator_Open_2tab
do
for method in AWF DF TikTok VarCNN TF MultiTab_RF ARES TMWF CountMamba
do
python  main.py --dataset ${dataset} --config config/${method}.ini --note baseline_same --drop_extra_time False --TAM_type Mamba --Model_name None --num_workers 16 --optim False --train_epochs 30
python  test.py --dataset ${dataset} --config config/${method}.ini --note baseline_same --drop_extra_time False --TAM_type Mamba --Model_name None --num_workers 16
done
done
```

# 消融实验
```bash

```
# 参数敏感度实验
```bash

```

# 其他数据集的实验
```bash

```